
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>fsntx &#8212; fusionapi  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="fsn" href="fsn.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="fsn.html" title="fsn"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">fusionapi  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="admonition note" id="fsn-fsntx">
<p class="first admonition-title">Note</p>
<p class="last">This documentation is work in progress and web3-fusion-extend in currently in beta.   Please feel free to submit pull request or issues via the edit on github link in the upper right.</p>
</div>
<div class="section" id="fsntx">
<h1>fsntx<a class="headerlink" href="#fsntx" title="Permalink to this headline">¶</a></h1>
<p id="index-0">FSNTX commands</p>
<ul class="simple">
<li><a class="reference internal" href="index.html#fsn-index"><span class="std std-ref">Overview</span></a></li>
<li><a class="reference internal" href="fsn.html#fsn-fsn"><span class="std std-ref">fsn</span></a></li>
<li><a class="reference internal" href="constants.html#fsn-constants"><span class="std std-ref">Constants</span></a></li>
</ul>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">personal</span><span class="p">.</span><span class="nx">unlockAccount</span><span class="p">(</span> <span class="nx">eth</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span> <span class="s2">&quot;123456&quot;</span> <span class="p">)</span>
<span class="kd">var</span> <span class="nx">tx</span> <span class="o">=</span> <span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildBuyTicketTx</span><span class="p">(</span> <span class="p">{</span><span class="nx">from</span><span class="o">:</span><span class="nx">eth</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">}</span> <span class="p">)</span>
<span class="nx">tx</span><span class="p">.</span><span class="nx">from</span> <span class="o">=</span> <span class="nx">eth</span><span class="p">.</span><span class="nx">coinbase</span>
<span class="kd">var</span> <span class="nx">tx2</span> <span class="o">=</span> <span class="nx">eth</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">(</span> <span class="nx">tx</span> <span class="p">)</span>
<span class="nx">fsntx</span><span class="p">.</span><span class="nx">sendRawTransaction</span><span class="p">(</span><span class="nx">tx2</span><span class="p">.</span><span class="nx">tx</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="sendrawtransaction">
<h2>sendRawTransaction<a class="headerlink" href="#sendrawtransaction" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">sendRawTransaction</span><span class="p">()</span>
<span class="p">...</span>
</pre></div>
</div>
<p>sendRawTransaction</p>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">tx</span></code> - <code class="docutils literal notranslate"><span class="pre">*types.Transaction</span></code>: Description</li>
</ol>
</div>
<div class="section" id="returns">
<h3>Returns<a class="headerlink" href="#returns" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">sendRawTransaction</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">$scope</span><span class="p">.</span><span class="nx">recallSwap</span> <span class="o">=</span> <span class="nx">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">swap_id</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">walletService</span><span class="p">.</span><span class="nx">wallet</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">password</span> <span class="o">=</span> <span class="nx">walletService</span><span class="p">.</span><span class="nx">password</span><span class="p">;</span>
        <span class="kd">let</span> <span class="nx">accountData</span> <span class="o">=</span> <span class="nx">uiFuncs</span><span class="p">.</span><span class="nx">getTxData</span><span class="p">(</span><span class="nx">$scope</span><span class="p">);</span>
        <span class="kd">let</span> <span class="nx">walletAddress</span> <span class="o">=</span> <span class="nx">accountData</span><span class="p">.</span><span class="nx">from</span><span class="p">;</span>

        <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nx">from</span><span class="o">:</span> <span class="nx">walletAddress</span><span class="p">,</span>
            <span class="nx">SwapID</span><span class="o">:</span> <span class="nx">swap_id</span>
        <span class="p">};</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">privateKeyToAccount</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">toHexString</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKey</span><span class="p">()));</span>
        <span class="p">}</span>

        <span class="k">try</span> <span class="p">{</span>
            <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildRecallSwapTx</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">tx</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">tx</span><span class="p">.</span><span class="nx">from</span> <span class="o">=</span> <span class="nx">walletAddress</span><span class="p">;</span>
                <span class="nx">tx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="nx">_CHAINID</span><span class="p">;</span>
                <span class="nx">data</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">return</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">signAndTransmit</span><span class="p">(</span><span class="nx">tx</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">txHash</span> <span class="p">=&gt;</span> <span class="p">{</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">txHash</span><span class="p">);</span>
                    <span class="nx">$scope</span><span class="p">.</span><span class="nx">recallSwapSuccess</span><span class="p">.</span><span class="nx">open</span><span class="p">()</span>
                <span class="p">})</span>
            <span class="p">})</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">errorModal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">ledgerConfig</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nx">privKey</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">privKey</span> <span class="o">?</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKeyString</span><span class="p">()</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nx">path</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPath</span><span class="p">(),</span>
                <span class="nx">hwType</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getHWType</span><span class="p">(),</span>
                <span class="nx">hwTransport</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getHWTransport</span><span class="p">()</span>
            <span class="p">}</span>
            <span class="kd">let</span> <span class="nx">rawTx</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">eTx</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethUtil</span><span class="p">.</span><span class="nx">Tx</span><span class="p">(</span><span class="nx">rawTx</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">ledgerConfig</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ledgerEth</span><span class="p">(</span><span class="nx">ledgerConfig</span><span class="p">.</span><span class="nx">hwTransport</span><span class="p">);</span>
                <span class="kd">var</span> <span class="nx">EIP155Supported</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                <span class="kd">var</span> <span class="nx">localCallback</span> <span class="o">=</span> <span class="nx">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">error</span> <span class="o">!=</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="nx">callback</span><span class="p">({</span>
                            <span class="nx">isError</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
                            <span class="nx">error</span><span class="o">:</span> <span class="nx">error</span>
                        <span class="p">});</span>
                        <span class="k">return</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="kd">var</span> <span class="nx">splitVersion</span> <span class="o">=</span> <span class="nx">result</span><span class="p">[</span><span class="s1">&#39;version&#39;</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">);</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">splitVersion</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">EIP155Supported</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">splitVersion</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">EIP155Supported</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">splitVersion</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">EIP155Supported</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="kd">var</span> <span class="nx">oldTx</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">rawTx</span><span class="p">,</span> <span class="p">{});</span>
                    <span class="kd">let</span> <span class="nx">input</span> <span class="o">=</span> <span class="nx">oldTx</span><span class="p">.</span><span class="nx">input</span><span class="p">;</span>
                    <span class="k">return</span> <span class="nx">uiFuncs</span><span class="p">.</span><span class="nx">signed</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="nx">rawTx</span><span class="p">,</span> <span class="nx">ledgerConfig</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">oldTx</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">r</span><span class="p">;</span>
                        <span class="nx">oldTx</span><span class="p">.</span><span class="nx">s</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">s</span><span class="p">;</span>
                        <span class="nx">oldTx</span><span class="p">.</span><span class="nx">v</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">v</span><span class="p">;</span>
                        <span class="nx">oldTx</span><span class="p">.</span><span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span><span class="p">;</span>
                        <span class="nx">oldTx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="s2">&quot;0x1&quot;</span><span class="p">;</span>
                        <span class="k">delete</span> <span class="nx">oldTx</span><span class="p">.</span><span class="nx">isError</span><span class="p">;</span>
                        <span class="k">delete</span> <span class="nx">oldTx</span><span class="p">.</span><span class="nx">rawTx</span><span class="p">;</span>
                        <span class="k">delete</span> <span class="nx">oldTx</span><span class="p">.</span><span class="nx">signedTx</span><span class="p">;</span>
                        <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">sendRawTransaction</span><span class="p">(</span><span class="nx">oldTx</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">txHash</span><span class="p">)</span> <span class="p">{</span>
                            <span class="nx">$scope</span><span class="p">.</span><span class="nx">recallSwapSuccess</span><span class="p">.</span><span class="nx">open</span><span class="p">()</span>
                        <span class="p">})</span>
                    <span class="p">})</span>
                <span class="p">}</span>
                <span class="nx">$scope</span><span class="p">.</span><span class="nx">notifier</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="s1">&#39;Please, confirm transaction on Ledger.&#39;</span><span class="p">);</span>
                <span class="nx">await</span> <span class="nx">app</span><span class="p">.</span><span class="nx">getAppConfiguration</span><span class="p">(</span><span class="nx">localCallback</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="buildgennotationtx">
<h2>buildGenNotationTx<a class="headerlink" href="#buildgennotationtx" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildGenNotationTx</span><span class="p">()</span>
<span class="p">...</span>
</pre></div>
</div>
<p>buildGenNotationTx</p>
<div class="section" id="id1">
<h3>Parameters<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id2">
<h3>Returns<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id3">
<h3>Example<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildGenNotationTx</span><span class="p">({</span>
    <span class="nx">from</span><span class="o">:</span> <span class="nx">walletAddress</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">tx</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">tx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="nx">_CHAINID</span><span class="p">;</span>
    <span class="nx">data</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">;</span>
    <span class="nx">tx</span><span class="p">.</span><span class="nx">from</span> <span class="o">=</span> <span class="nx">walletAddress</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">){</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">signAndTransmit</span><span class="p">(</span><span class="nx">tx</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">txHash</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">$scope</span><span class="p">.</span><span class="nx">requestedSAN</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="nx">$scope</span><span class="p">.</span><span class="nx">$apply</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">addressNotation</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s1">&#39;USAN Requested&#39;</span><span class="p">;</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">addressNotation</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s1">&#39;USAN Requested&#39;</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">})</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="gennotation">
<h2>genNotation<a class="headerlink" href="#gennotation" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">genNotation</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
<span class="p">...</span>
</pre></div>
</div>
<p>genNotation gen a notation for a account CP see the top and the “from” ignore from who gen the notation password the account password</p>
<div class="section" id="id4">
<h3>Parameters<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: The transaction object</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><code class="docutils literal notranslate"><span class="pre">passwd</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>: Description</li>
</ol>
</div>
<div class="section" id="id5">
<h3>Returns<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id6">
<h3>Example<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">genNotation</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="buildgenassettx">
<h2>buildGenAssetTx<a class="headerlink" href="#buildgenassettx" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildGenAssetTx</span><span class="p">()</span>
<span class="p">...</span>
</pre></div>
</div>
<p>buildGenAssetTx</p>
<div class="section" id="id7">
<h3>Parameters<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: The transaction object</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">Name</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;name&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Symbol</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;symbol&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Decimals</span></code> - <code class="docutils literal notranslate"><span class="pre">uint8</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;decimals&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Total</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;total&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">CanChange</span></code> - <code class="docutils literal notranslate"><span class="pre">bool</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;canChange&quot;</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id8">
<h3>Returns<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id9">
<h3>Example<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">try</span> <span class="p">{</span>
    <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildGenAssetTx</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">tx</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">tx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="nx">_CHAINID</span><span class="p">;</span>
        <span class="nx">data</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span> <span class="o">||</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;trezor&quot;</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">signAndTransmit</span><span class="p">(</span><span class="nx">tx</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">txHash</span> <span class="p">=&gt;</span> <span class="p">{</span>
                <span class="nx">$scope</span><span class="p">.</span><span class="nx">$eval</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                    <span class="nx">$scope</span><span class="p">.</span><span class="nx">assetCreate</span><span class="p">.</span><span class="nx">errorMessage</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
                    <span class="nx">$scope</span><span class="p">.</span><span class="nx">assetCreate</span><span class="p">.</span><span class="nx">assetHash</span> <span class="o">=</span> <span class="nx">txHash</span><span class="p">;</span>
                <span class="p">});</span>
                <span class="nx">$scope</span><span class="p">.</span><span class="nx">createAssetFinal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
            <span class="p">});</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">errorModal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="genasset">
<h2>genAsset<a class="headerlink" href="#genasset" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">genAsset</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s2">&quot;FusionTest&quot;</span><span class="p">,</span><span class="nx">symbol</span><span class="o">:</span><span class="s2">&quot;FST&quot;</span><span class="p">,</span><span class="nx">decimals</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">total</span><span class="o">:</span><span class="s2">&quot;0x200&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
<span class="nx">fsntx</span><span class="p">.</span><span class="nx">genAsset</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="s2">&quot;0x91db50f5c36ae7616009d4e94462dca4d4c7e833&quot;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s2">&quot;JONESY&quot;</span><span class="p">,</span><span class="nx">symbol</span><span class="o">:</span><span class="s2">&quot;JSY&quot;</span><span class="p">,</span><span class="nx">decimals</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">total</span><span class="o">:</span><span class="s2">&quot;0x2000000000&quot;</span><span class="p">},</span><span class="s2">&quot;123123123&quot;</span><span class="p">)</span>
<span class="p">...</span>
</pre></div>
</div>
<p>genAsset generate a asset CP see the top and the “from” ignore from who gen the asset and the owner of the asset name the name of asset symbol the symbol of asset decimals the asset decimal digit total the total number of the asset and the owner will be get same number asset CanChange whether asset can be incremented or decremented by the owner [optional] password the account password</p>
<div class="section" id="id10">
<h3>Parameters<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">Name</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;name&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Symbol</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;symbol&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Decimals</span></code> - <code class="docutils literal notranslate"><span class="pre">uint8</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;decimals&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Total</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;total&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">CanChange</span></code> - <code class="docutils literal notranslate"><span class="pre">bool</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;canChange&quot;</span></code>: Description</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><code class="docutils literal notranslate"><span class="pre">passwd</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>: Description</li>
</ol>
</div>
<div class="section" id="id11">
<h3>Returns<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id12">
<h3>Example<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">genAsset</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s2">&quot;FusionTest&quot;</span><span class="p">,</span><span class="nx">symbol</span><span class="o">:</span><span class="s2">&quot;FST&quot;</span><span class="p">,</span><span class="nx">decimals</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">total</span><span class="o">:</span><span class="s2">&quot;0x200&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
<span class="nx">fsntx</span><span class="p">.</span><span class="nx">genAsset</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="s2">&quot;0x91db50f5c36ae7616009d4e94462dca4d4c7e833&quot;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s2">&quot;JONESY&quot;</span><span class="p">,</span><span class="nx">symbol</span><span class="o">:</span><span class="s2">&quot;JSY&quot;</span><span class="p">,</span><span class="nx">decimals</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">total</span><span class="o">:</span><span class="s2">&quot;0x2000000000&quot;</span><span class="p">},</span><span class="s2">&quot;123123123&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="buildsendassettx">
<h2>buildSendAssetTx<a class="headerlink" href="#buildsendassettx" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildSendAssetTx</span><span class="p">()</span>
<span class="p">...</span>
</pre></div>
</div>
<p>buildSendAssetTx</p>
<div class="section" id="id13">
<h3>Parameters<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">AssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;asset&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">To</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Address</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;to&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Value</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;value&quot;</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id14">
<h3>Returns<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id15">
<h3>Example<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildSendAssetTx</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">$scope</span><span class="p">.</span><span class="nx">sendAsset</span> <span class="o">=</span> <span class="nx">async</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">successMessagebool</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">accountData</span> <span class="o">=</span> <span class="nx">uiFuncs</span><span class="p">.</span><span class="nx">getTxData</span><span class="p">(</span><span class="nx">$scope</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">from</span> <span class="o">=</span> <span class="nx">accountData</span><span class="p">.</span><span class="nx">from</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">to</span> <span class="o">=</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">sendAsset</span><span class="p">.</span><span class="nx">toAddress</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">decimals</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">asset</span> <span class="o">=</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">assetToSend</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">hash</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{};</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">to</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">42</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">getAddressByNotation</span><span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">to</span><span class="p">)).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">address</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">to</span> <span class="o">=</span> <span class="nx">address</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">getAsset</span><span class="p">(</span><span class="nx">asset</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">decimals</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">res</span><span class="p">[</span><span class="s2">&quot;Decimals&quot;</span><span class="p">]);</span>
    <span class="p">});</span>

    <span class="kd">let</span> <span class="nx">amount</span> <span class="o">=</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">sendAsset</span><span class="p">.</span><span class="nx">amountToSend</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>

    <span class="nx">amount</span> <span class="o">=</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">makeBigNumber</span><span class="p">(</span><span class="nx">amount</span><span class="p">,</span> <span class="nx">decimals</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">transactionType</span> <span class="o">==</span> <span class="s2">&quot;none&quot;</span><span class="p">)</span> <span class="p">{</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;trezor&quot;</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">privateKeyToAccount</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">toHexString</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKey</span><span class="p">()));</span>
        <span class="p">}</span>

        <span class="k">try</span> <span class="p">{</span>
            <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildSendAssetTx</span><span class="p">({</span>
                <span class="nx">from</span><span class="o">:</span> <span class="nx">from</span><span class="p">,</span>
                <span class="nx">to</span><span class="o">:</span> <span class="nx">to</span><span class="p">,</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">amount</span><span class="p">.</span><span class="nx">toString</span><span class="p">(),</span>
                <span class="nx">asset</span><span class="o">:</span> <span class="nx">asset</span>
            <span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">tx</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tx</span><span class="p">);</span>
                <span class="nx">tx</span><span class="p">.</span><span class="nx">from</span> <span class="o">=</span> <span class="nx">from</span><span class="p">;</span>
                <span class="nx">tx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="nx">_CHAINID</span><span class="p">;</span>
                <span class="nx">data</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span> <span class="o">||</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;trezor&quot;</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">return</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">signAndTransmit</span><span class="p">(</span><span class="nx">tx</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">txHash</span> <span class="p">=&gt;</span> <span class="p">{</span>
                    <span class="nx">hash</span> <span class="o">=</span> <span class="nx">txHash</span><span class="p">;</span>
                    <span class="nx">$scope</span><span class="p">.</span><span class="nx">sendAssetFinal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
                    <span class="nx">$scope</span><span class="p">.</span><span class="nx">$eval</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                        <span class="nx">$scope</span><span class="p">.</span><span class="nx">successHash</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">;</span>
                        <span class="nx">$scope</span><span class="p">.</span><span class="nx">successHash</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">;</span>
                    <span class="p">});</span>
                <span class="p">})</span>
            <span class="p">});</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">errorModal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
        <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="sendasset">
<h2>sendAsset<a class="headerlink" href="#sendasset" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">sendAsset</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0x2b1a3eca81ba03a9a4c95f4a04679c90838d7165&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x1&quot;</span><span class="p">,</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0x514a46f34e6eb0a98abb3595c4aec33ca8ddf69f135c8fed89e78d0808047965&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>

<span class="nx">fsntx</span><span class="p">.</span><span class="nx">sendAsset</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0x91db50F5c36aE7616009d4e94462DcA4D4c7e833&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x2&quot;</span><span class="p">,</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0x88d18f81620e5684e880dddcf0b6c167a9154d4c499bc9fad47b98634110eeec&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
<span class="p">...</span>
</pre></div>
</div>
<p>sendAsset send asset to other account CSP see the top</p>
<div class="section" id="id16">
<h3>Parameters<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">AssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;asset&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">To</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Address</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;to&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Value</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;value&quot;</span></code>: Description</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><code class="docutils literal notranslate"><span class="pre">passwd</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>: Description</li>
</ol>
</div>
<div class="section" id="id17">
<h3>Returns<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id18">
<h3>Example<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">sendAsset</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0x2b1a3eca81ba03a9a4c95f4a04679c90838d7165&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x1&quot;</span><span class="p">,</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0x514a46f34e6eb0a98abb3595c4aec33ca8ddf69f135c8fed89e78d0808047965&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>

<span class="nx">fsntx</span><span class="p">.</span><span class="nx">sendAsset</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0x91db50F5c36aE7616009d4e94462DcA4D4c7e833&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x2&quot;</span><span class="p">,</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0x88d18f81620e5684e880dddcf0b6c167a9154d4c499bc9fad47b98634110eeec&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="buildassettotimelocktx">
<h2>buildAssetToTimeLockTx<a class="headerlink" href="#buildassettotimelocktx" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildAssetToTimeLockTx</span><span class="p">()</span>
<span class="p">...</span>
</pre></div>
</div>
<p>buildAssetToTimeLockTx</p>
<div class="section" id="id19">
<h3>Parameters<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">AssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;asset&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">To</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Address</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;to&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Value</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;value&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">start</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">end</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id20">
<h3>Returns<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id21">
<h3>Example<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildAssetToTimeLockTx</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">$scope</span><span class="p">.</span><span class="nx">sendAsset</span> <span class="o">=</span> <span class="nx">async</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">successMessagebool</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">accountData</span> <span class="o">=</span> <span class="nx">uiFuncs</span><span class="p">.</span><span class="nx">getTxData</span><span class="p">(</span><span class="nx">$scope</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">from</span> <span class="o">=</span> <span class="nx">accountData</span><span class="p">.</span><span class="nx">from</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">to</span> <span class="o">=</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">sendAsset</span><span class="p">.</span><span class="nx">toAddress</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">decimals</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">asset</span> <span class="o">=</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">assetToSend</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">hash</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{};</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">to</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">42</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">getAddressByNotation</span><span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">to</span><span class="p">)).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">address</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">to</span> <span class="o">=</span> <span class="nx">address</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">getAsset</span><span class="p">(</span><span class="nx">asset</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">decimals</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">res</span><span class="p">[</span><span class="s2">&quot;Decimals&quot;</span><span class="p">]);</span>
    <span class="p">});</span>

    <span class="kd">let</span> <span class="nx">amount</span> <span class="o">=</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">sendAsset</span><span class="p">.</span><span class="nx">amountToSend</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>

    <span class="nx">amount</span> <span class="o">=</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">makeBigNumber</span><span class="p">(</span><span class="nx">amount</span><span class="p">,</span> <span class="nx">decimals</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">transactionType</span> <span class="o">==</span> <span class="s2">&quot;none&quot;</span><span class="p">)</span> <span class="p">{</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;trezor&quot;</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">privateKeyToAccount</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">toHexString</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKey</span><span class="p">()));</span>
        <span class="p">}</span>

        <span class="k">try</span> <span class="p">{</span>
            <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildSendAssetTx</span><span class="p">({</span>
                <span class="nx">from</span><span class="o">:</span> <span class="nx">from</span><span class="p">,</span>
                <span class="nx">to</span><span class="o">:</span> <span class="nx">to</span><span class="p">,</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">amount</span><span class="p">.</span><span class="nx">toString</span><span class="p">(),</span>
                <span class="nx">asset</span><span class="o">:</span> <span class="nx">asset</span>
            <span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">tx</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tx</span><span class="p">);</span>
                <span class="nx">tx</span><span class="p">.</span><span class="nx">from</span> <span class="o">=</span> <span class="nx">from</span><span class="p">;</span>
                <span class="nx">tx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="nx">_CHAINID</span><span class="p">;</span>
                <span class="nx">data</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span> <span class="o">||</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;trezor&quot;</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">return</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">signAndTransmit</span><span class="p">(</span><span class="nx">tx</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">txHash</span> <span class="p">=&gt;</span> <span class="p">{</span>
                    <span class="nx">hash</span> <span class="o">=</span> <span class="nx">txHash</span><span class="p">;</span>
                    <span class="nx">$scope</span><span class="p">.</span><span class="nx">sendAssetFinal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
                    <span class="nx">$scope</span><span class="p">.</span><span class="nx">$eval</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                        <span class="nx">$scope</span><span class="p">.</span><span class="nx">successHash</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">;</span>
                        <span class="nx">$scope</span><span class="p">.</span><span class="nx">successHash</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">;</span>
                    <span class="p">});</span>
                <span class="p">})</span>
            <span class="p">});</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">errorModal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="nx">$scope</span><span class="p">.</span><span class="nx">$apply</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">successHash</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">transactionType</span> <span class="o">==</span> <span class="s2">&quot;daterange&quot;</span><span class="p">)</span> <span class="p">{</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">sendAsset</span><span class="p">.</span><span class="nx">fromTime</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">sendAsset</span><span class="p">.</span><span class="nx">fromTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="kd">let</span> <span class="nx">fromTime</span> <span class="o">=</span> <span class="nx">getHexDate</span><span class="p">(</span><span class="nx">convertDate</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">sendAsset</span><span class="p">.</span><span class="nx">fromTime</span><span class="p">));</span>
        <span class="kd">let</span> <span class="nx">tillTime</span> <span class="o">=</span> <span class="nx">getHexDate</span><span class="p">(</span><span class="nx">convertDate</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">sendAsset</span><span class="p">.</span><span class="nx">tillTime</span><span class="p">));</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;trezor&quot;</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">privateKeyToAccount</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">toHexString</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKey</span><span class="p">()));</span>
        <span class="p">}</span>

        <span class="k">try</span> <span class="p">{</span>
            <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildAssetToTimeLockTx</span><span class="p">({</span>
                <span class="nx">asset</span><span class="o">:</span> <span class="nx">asset</span><span class="p">,</span>
                <span class="nx">from</span><span class="o">:</span> <span class="nx">from</span><span class="p">,</span>
                <span class="nx">to</span><span class="o">:</span> <span class="nx">to</span><span class="p">,</span>
                <span class="nx">start</span><span class="o">:</span> <span class="nx">fromTime</span><span class="p">,</span>
                <span class="nx">end</span><span class="o">:</span> <span class="nx">tillTime</span><span class="p">,</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">amount</span>
            <span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">tx</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
                <span class="nx">tx</span><span class="p">.</span><span class="nx">from</span> <span class="o">=</span> <span class="nx">from</span><span class="p">;</span>
                <span class="nx">tx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="nx">_CHAINID</span><span class="p">;</span>
                <span class="nx">data</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span> <span class="o">||</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;trezor&quot;</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">return</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">signAndTransmit</span><span class="p">(</span><span class="nx">tx</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">txHash</span> <span class="p">=&gt;</span> <span class="p">{</span>
                    <span class="nx">$scope</span><span class="p">.</span><span class="nx">sendAssetFinal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
                    <span class="nx">$scope</span><span class="p">.</span><span class="nx">$eval</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                        <span class="nx">$scope</span><span class="p">.</span><span class="nx">successHash</span> <span class="o">=</span> <span class="nx">txHash</span><span class="p">;</span>
                        <span class="nx">$scope</span><span class="p">.</span><span class="nx">successHash</span> <span class="o">=</span> <span class="nx">txHash</span><span class="p">;</span>
                    <span class="p">});</span>
                <span class="p">})</span>
            <span class="p">});</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">errorModal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="assettotimelock">
<h2>assetToTimeLock<a class="headerlink" href="#assettotimelock" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">assetToTimeLock</span><span class="p">({</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">,</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0xa7455DF112c953F3c73c2C25559965e1A8a20024&quot;</span><span class="p">,</span><span class="nx">start</span><span class="o">:</span><span class="s2">&quot;0x1&quot;</span><span class="p">,</span><span class="nx">end</span><span class="o">:</span><span class="s2">&quot;0x2A300&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x1400000000000000&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>

<span class="nx">fsntx</span><span class="p">.</span><span class="nx">assetToTimeLock</span><span class="p">({</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">,</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0xa7455DF112c953F3c73c2C25559965e1A8a20024&quot;</span><span class="p">,</span><span class="nx">start</span><span class="o">:</span><span class="s2">&quot;0x2a900&quot;</span><span class="p">,</span><span class="nx">end</span><span class="o">:</span><span class="s2">&quot;0x3A300&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x1400000000000000&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>

<span class="nx">fsntx</span><span class="p">.</span><span class="nx">assetToTimeLock</span><span class="p">({</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">,</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0xa7455DF112c953F3c73c2C25559965e1A8a20024&quot;</span><span class="p">,</span><span class="nx">start</span><span class="o">:</span> <span class="nx">getHexDate</span><span class="p">(</span><span class="s1">&#39;2018-12-01&#39;</span><span class="p">)</span> <span class="p">,</span><span class="nx">end</span><span class="o">:</span> <span class="nx">getHexDate</span><span class="p">(</span><span class="s1">&#39;2019-01-01&#39;</span><span class="p">),</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x1340000000000000&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
<span class="p">...</span>
</pre></div>
</div>
<p>assetToTimeLock send the asset to time lock CSP see the top startTime the start time of the time lock endTime the end time of the time lock password the account password</p>
<div class="section" id="id22">
<h3>Parameters<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">AssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;asset&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">To</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Address</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;to&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Value</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;value&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">start</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">end</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><code class="docutils literal notranslate"><span class="pre">passwd</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>: Description</li>
</ol>
</div>
<div class="section" id="id23">
<h3>Returns<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id24">
<h3>Example<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">assetToTimeLock</span><span class="p">({</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">,</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0xa7455DF112c953F3c73c2C25559965e1A8a20024&quot;</span><span class="p">,</span><span class="nx">start</span><span class="o">:</span><span class="s2">&quot;0x1&quot;</span><span class="p">,</span><span class="nx">end</span><span class="o">:</span><span class="s2">&quot;0x2A300&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x1400000000000000&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>

<span class="nx">fsntx</span><span class="p">.</span><span class="nx">assetToTimeLock</span><span class="p">({</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">,</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0xa7455DF112c953F3c73c2C25559965e1A8a20024&quot;</span><span class="p">,</span><span class="nx">start</span><span class="o">:</span><span class="s2">&quot;0x2a900&quot;</span><span class="p">,</span><span class="nx">end</span><span class="o">:</span><span class="s2">&quot;0x3A300&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x1400000000000000&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>

<span class="nx">fsntx</span><span class="p">.</span><span class="nx">assetToTimeLock</span><span class="p">({</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">,</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0xa7455DF112c953F3c73c2C25559965e1A8a20024&quot;</span><span class="p">,</span><span class="nx">start</span><span class="o">:</span> <span class="nx">getHexDate</span><span class="p">(</span><span class="s1">&#39;2018-12-01&#39;</span><span class="p">)</span> <span class="p">,</span><span class="nx">end</span><span class="o">:</span> <span class="nx">getHexDate</span><span class="p">(</span><span class="s1">&#39;2019-01-01&#39;</span><span class="p">),</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x1340000000000000&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="buildtimelocktotimelocktx">
<h2>buildTimeLockToTimeLockTx<a class="headerlink" href="#buildtimelocktotimelocktx" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildTimeLockToTimeLockTx</span><span class="p">()</span>
<span class="p">...</span>
</pre></div>
</div>
<p>buildTimeLockToTimeLockTx</p>
<div class="section" id="id25">
<h3>Parameters<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">AssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;asset&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">To</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Address</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;to&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Value</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;value&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">start</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">end</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id26">
<h3>Returns<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id27">
<h3>Example<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildTimeLockToTimeLockTx</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;trezor&quot;</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">privateKeyToAccount</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">toHexString</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKey</span><span class="p">()));</span>
<span class="p">}</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildTimeLockToTimeLockTx</span><span class="p">({</span>
        <span class="nx">asset</span><span class="o">:</span> <span class="nx">asset</span><span class="p">,</span>
        <span class="nx">from</span><span class="o">:</span> <span class="nx">from</span><span class="p">,</span>
        <span class="nx">to</span><span class="o">:</span> <span class="nx">to</span><span class="p">,</span>
        <span class="nx">start</span><span class="o">:</span> <span class="nx">fromTime</span><span class="p">,</span>
        <span class="nx">end</span><span class="o">:</span> <span class="nx">tillTime</span><span class="p">,</span>
        <span class="nx">value</span><span class="o">:</span> <span class="nx">amount</span>
    <span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">tx</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">tx</span><span class="p">.</span><span class="nx">from</span> <span class="o">=</span> <span class="nx">from</span><span class="p">;</span>
        <span class="nx">tx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="nx">_CHAINID</span><span class="p">;</span>
        <span class="nx">data</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span> <span class="o">||</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;trezor&quot;</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">signAndTransmit</span><span class="p">(</span><span class="nx">tx</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">txHash</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">$eval</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                <span class="nx">$scope</span><span class="p">.</span><span class="nx">sendAssetFinal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
                <span class="nx">$scope</span><span class="p">.</span><span class="nx">successHash</span> <span class="o">=</span> <span class="nx">txHash</span><span class="p">;</span>
                <span class="nx">$scope</span><span class="p">.</span><span class="nx">successHash</span> <span class="o">=</span> <span class="nx">txHash</span><span class="p">;</span>
            <span class="p">});</span>
        <span class="p">})</span>
    <span class="p">});</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">errorModal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="timelocktotimelock">
<h2>timeLockToTimeLock<a class="headerlink" href="#timelocktotimelock" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">timeLockToTimeLock</span><span class="p">({</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">,</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0x2b1a3eca81ba03a9a4c95f4a04679c90838d7165&quot;</span><span class="p">,</span><span class="nx">start</span><span class="o">:</span><span class="s2">&quot;0x101&quot;</span><span class="p">,</span><span class="nx">end</span><span class="o">:</span><span class="s2">&quot;0x200&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x100&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
<span class="p">...</span>
</pre></div>
</div>
<p>timeLockToTimeLock send the time lock CSP see the top startTime the start time of the time lock endTime the end time of the time lock password the account password</p>
<div class="section" id="id28">
<h3>Parameters<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">AssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;asset&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">To</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Address</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;to&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Value</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;value&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">start</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">end</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><code class="docutils literal notranslate"><span class="pre">passwd</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>: Description</li>
</ol>
</div>
<div class="section" id="id29">
<h3>Returns<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id30">
<h3>Example<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">timeLockToTimeLock</span><span class="p">({</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">,</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0x2b1a3eca81ba03a9a4c95f4a04679c90838d7165&quot;</span><span class="p">,</span><span class="nx">start</span><span class="o">:</span><span class="s2">&quot;0x101&quot;</span><span class="p">,</span><span class="nx">end</span><span class="o">:</span><span class="s2">&quot;0x200&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x100&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="buildtimelocktoassettx">
<h2>buildTimeLockToAssetTx<a class="headerlink" href="#buildtimelocktoassettx" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildTimeLockToAssetTx</span><span class="p">()</span>
<span class="p">...</span>
</pre></div>
</div>
<p>buildTimeLockToAssetTx</p>
<div class="section" id="id31">
<h3>Parameters<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">AssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;asset&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">To</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Address</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;to&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Value</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;value&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">start</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">end</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id32">
<h3>Returns<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id33">
<h3>Example<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildTimeLockToAssetTx</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">$scope</span><span class="p">.</span><span class="nx">sendBackToAssetsFunction</span> <span class="o">=</span> <span class="nx">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">accountData</span> <span class="o">=</span> <span class="nx">uiFuncs</span><span class="p">.</span><span class="nx">getTxData</span><span class="p">(</span><span class="nx">$scope</span><span class="p">);</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">timeLockToAssetId</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">tlData</span> <span class="o">=</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">timeLockList</span><span class="p">[</span><span class="nx">id</span><span class="p">];</span>

    <span class="kd">let</span> <span class="nx">from</span> <span class="o">=</span> <span class="nx">accountData</span><span class="p">.</span><span class="nx">from</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;trezor&quot;</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">privateKeyToAccount</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">toHexString</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKey</span><span class="p">()));</span>
    <span class="p">}</span>

    <span class="kd">let</span> <span class="nx">startTime</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">numberToHex</span><span class="p">(</span><span class="nx">tlData</span><span class="p">.</span><span class="nx">posixStartTime</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">endTime</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">numberToHex</span><span class="p">(</span><span class="nx">tlData</span><span class="p">.</span><span class="nx">posixEndTime</span><span class="p">);</span>

    <span class="c1">// JavaScript / Go incompatibility -1 error</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">tlData</span><span class="p">.</span><span class="nx">posixEndTime</span> <span class="o">===</span> <span class="mi">18446744073709552000</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">endTime</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">consts</span><span class="p">.</span><span class="nx">TimeForeverStr</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{};</span>

    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildTimeLockToAssetTx</span><span class="p">({</span>
            <span class="nx">asset</span><span class="o">:</span> <span class="nx">tlData</span><span class="p">.</span><span class="nx">asset</span><span class="p">,</span>
            <span class="nx">from</span><span class="o">:</span> <span class="nx">from</span><span class="p">,</span>
            <span class="nx">to</span><span class="o">:</span> <span class="nx">from</span><span class="p">,</span>
            <span class="nx">start</span><span class="o">:</span> <span class="nx">startTime</span><span class="p">,</span>
            <span class="nx">end</span><span class="o">:</span> <span class="nx">endTime</span><span class="p">,</span>
            <span class="nx">value</span><span class="o">:</span> <span class="nx">tlData</span><span class="p">.</span><span class="nx">rawValue</span>
        <span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">tx</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="nx">tx</span><span class="p">.</span><span class="nx">from</span> <span class="o">=</span> <span class="nx">from</span><span class="p">;</span>
            <span class="nx">tx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="nx">_CHAINID</span><span class="p">;</span>
            <span class="nx">data</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span> <span class="o">||</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;trezor&quot;</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">signAndTransmit</span><span class="p">(</span><span class="nx">tx</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">txHash</span> <span class="p">=&gt;</span> <span class="p">{</span>
                <span class="nx">$scope</span><span class="p">.</span><span class="nx">successModal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
            <span class="p">})</span>
        <span class="p">});</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$scope</span><span class="p">.</span><span class="nx">errorModal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
    <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="timelocktoasset">
<h2>timeLockToAsset<a class="headerlink" href="#timelocktoasset" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">timeLockToAsset</span><span class="p">({</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">,</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">start</span><span class="o">:</span><span class="s2">&quot;0x0&quot;</span><span class="p">,</span><span class="nx">end</span><span class="o">:</span><span class="s2">&quot;0x0&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x100&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
<span class="p">...</span>
</pre></div>
</div>
<p>timeLockToAsset send the time lock to asset CSP see the top startTime the start time of the time lock endTime the end time of the time lock password the account password</p>
<div class="section" id="id34">
<h3>Parameters<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">AssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;asset&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">To</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Address</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;to&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Value</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;value&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">start</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">end</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><code class="docutils literal notranslate"><span class="pre">passwd</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>: Description</li>
</ol>
</div>
<div class="section" id="id35">
<h3>Returns<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id36">
<h3>Example<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">timeLockToAsset</span><span class="p">({</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">,</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">start</span><span class="o">:</span><span class="s2">&quot;0x0&quot;</span><span class="p">,</span><span class="nx">end</span><span class="o">:</span><span class="s2">&quot;0x0&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x100&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="buildbuytickettx">
<h2>buildBuyTicketTx<a class="headerlink" href="#buildbuytickettx" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildBuyTicketTx</span><span class="p">()</span>
<span class="p">...</span>
</pre></div>
</div>
<p>buildBuyTicketTx</p>
<div class="section" id="id37">
<h3>Parameters<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">start</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">end</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id38">
<h3>Returns<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id39">
<h3>Example<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">this</span><span class="p">.</span><span class="nx">_web3</span><span class="p">.</span><span class="nx">fsntx</span>
  <span class="p">.</span><span class="nx">buildBuyTicketTx</span><span class="p">({</span> <span class="nx">from</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">_walletAddress</span><span class="p">,</span> <span class="nx">end</span><span class="o">:</span> <span class="nx">dayHex</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">tx</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tx</span><span class="p">);</span>
    <span class="c1">// tx.gasLimit =  this._web3.utils.toWei( 21000, &quot;gwei&quot; )</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">_web3</span> <span class="o">||</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span> <span class="o">||</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">__connected</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// reconnecting need to wait</span>
      <span class="nx">cb</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;reconnecting&quot;</span><span class="p">),</span> <span class="s2">&quot;reconnecting&quot;</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">signAndTransmit</span><span class="p">(</span>
      <span class="nx">tx</span><span class="p">,</span>
      <span class="nx">currentDataState</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">signInfo</span><span class="p">.</span><span class="nx">signTransaction</span>
    <span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">txHash</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;buy ticket tx -&gt; &quot;</span><span class="p">,</span> <span class="nx">txHash</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">data</span><span class="p">.</span><span class="nx">activeTicketPurchase</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">cb</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="s2">&quot;asked to leave&quot;</span><span class="p">);</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">data</span><span class="p">.</span><span class="nx">lastStatus</span> <span class="o">=</span> <span class="s2">&quot;Pending Tx:&quot;</span> <span class="o">+</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">midHashDisplay</span><span class="p">(</span><span class="nx">txHash</span><span class="p">);</span>
    <span class="nx">data</span><span class="p">.</span><span class="nx">lastCall</span> <span class="o">=</span> <span class="s2">&quot;purchaseSubmitTicket&quot;</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s2">&quot;purchaseSubmitTicket&quot;</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">checkConnection</span><span class="p">();</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">waitForTransactionToComplete</span><span class="p">(</span>
      <span class="nx">txHash</span><span class="p">,</span>
      <span class="nx">data</span><span class="p">,</span>
      <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">+</span> <span class="mi">120000</span>
    <span class="p">)</span>
      <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">r</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">cb</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="s2">&quot;Ticket bought&quot;</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">cb</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;failed to buy&quot;</span><span class="p">),</span> <span class="s2">&quot;Failed to buy ticket will retry&quot;</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">})</span>
      <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">cb</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="s2">&quot;Error waiting for ticket to complete&quot;</span><span class="p">);</span>
      <span class="p">});</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
    <span class="nx">cb</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="s2">&quot;unknown err&quot;</span><span class="p">);</span>
  <span class="p">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="buyticket">
<h2>buyTicket<a class="headerlink" href="#buyticket" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buyTicket</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
<span class="p">...</span>
</pre></div>
</div>
<p>buyTicket buy the ticket CP see the top and the “from” ignore from who buy the ticket password the account password</p>
<div class="section" id="id40">
<h3>Parameters<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">start</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">end</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><code class="docutils literal notranslate"><span class="pre">passwd</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>: Description</li>
</ol>
</div>
<div class="section" id="id41">
<h3>Returns<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id42">
<h3>Example<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buyTicket</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="buildincassettx">
<h2>buildIncAssetTx<a class="headerlink" href="#buildincassettx" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildIncAssetTx</span><span class="p">()</span>
<span class="p">...</span>
</pre></div>
</div>
<p>buildIncAssetTx</p>
<div class="section" id="id43">
<h3>Parameters<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">AssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;asset&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">To</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Address</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;to&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Value</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;value&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">IsInc</span></code> - <code class="docutils literal notranslate"><span class="pre">bool</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;isInc&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">TransacData</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>-  <code class="docutils literal notranslate"><span class="pre">json:&quot;transacData&quot;</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id44">
<h3>Returns<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id45">
<h3>Example<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildIncAssetTx</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span>
  <span class="p">.</span><span class="nx">buildIncAssetTx</span><span class="p">({</span>
    <span class="nx">from</span><span class="o">:</span> <span class="nx">key</span><span class="p">.</span><span class="nx">address</span><span class="p">,</span>
    <span class="nx">to</span><span class="o">:</span> <span class="nx">key</span><span class="p">.</span><span class="nx">address</span><span class="p">,</span>
    <span class="nx">value</span><span class="o">:</span> <span class="s2">&quot;1000000000000000000&quot;</span><span class="p">,</span>
    <span class="nx">asset</span><span class="o">:</span> <span class="nx">assetId</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">tx</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">tx</span><span class="p">.</span><span class="nx">gasPrice</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">toWei</span><span class="p">(</span> <span class="k">new</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">BN</span><span class="p">(</span> <span class="s2">&quot;3&quot;</span> <span class="p">),</span> <span class="s2">&quot;gwei&quot;</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">signAndTransmit</span><span class="p">(</span><span class="nx">tx</span><span class="p">,</span> <span class="nx">signInfo</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">tx</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">totalSent</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nx">totalSent</span> <span class="o">+</span> <span class="s2">&quot;   &quot;</span> <span class="o">+</span>  <span class="nx">index</span> <span class="o">*</span> <span class="nx">subToDo</span> <span class="p">,</span> <span class="nx">tx</span><span class="p">);</span>
      <span class="nx">transactionList</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">tx</span><span class="p">);</span>
      <span class="nx">incAsset</span><span class="p">(</span><span class="nx">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">numberToDo</span><span class="p">,</span> <span class="nx">done</span><span class="p">)</span>
    <span class="p">});</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;inc asset created the following error&quot;</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="nx">done</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="incasset">
<h2>incAsset<a class="headerlink" href="#incasset" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">incAsset</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0x2b1a3eca81ba03a9a4c95f4a04679c90838d7165&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x1&quot;</span><span class="p">,</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0x514a46f34e6eb0a98abb3595c4aec33ca8ddf69f135c8fed89e78d0808047965&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
<span class="p">...</span>
</pre></div>
</div>
<p>incAsset increase account asset balance CSP see the top and the “from”,”to” ignore from the asset owner to the inc account password the account password</p>
<div class="section" id="id46">
<h3>Parameters<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">AssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;asset&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">To</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Address</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;to&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Value</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;value&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">IsInc</span></code> - <code class="docutils literal notranslate"><span class="pre">bool</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;isInc&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">TransacData</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>-  <code class="docutils literal notranslate"><span class="pre">json:&quot;transacData&quot;</span></code>: Description</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><code class="docutils literal notranslate"><span class="pre">passwd</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>: Description</li>
</ol>
</div>
<div class="section" id="id47">
<h3>Returns<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id48">
<h3>Example<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">incAsset</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0x2b1a3eca81ba03a9a4c95f4a04679c90838d7165&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x1&quot;</span><span class="p">,</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0x514a46f34e6eb0a98abb3595c4aec33ca8ddf69f135c8fed89e78d0808047965&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="builddecassettx">
<h2>buildDecAssetTx<a class="headerlink" href="#builddecassettx" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildDecAssetTx</span><span class="p">()</span>
<span class="p">...</span>
</pre></div>
</div>
<p>buildDecAssetTx</p>
<div class="section" id="id49">
<h3>Parameters<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">AssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;asset&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">To</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Address</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;to&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Value</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;value&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">IsInc</span></code> - <code class="docutils literal notranslate"><span class="pre">bool</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;isInc&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">TransacData</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>-  <code class="docutils literal notranslate"><span class="pre">json:&quot;transacData&quot;</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id50">
<h3>Returns<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id51">
<h3>Example<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildDecAssetTx</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="decasset">
<h2>decAsset<a class="headerlink" href="#decasset" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">decAsset</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0x2b1a3eca81ba03a9a4c95f4a04679c90838d7165&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x1&quot;</span><span class="p">,</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0x514a46f34e6eb0a98abb3595c4aec33ca8ddf69f135c8fed89e78d0808047965&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
<span class="p">...</span>
</pre></div>
</div>
<p>decAsset decrease account asset balance CSP see the top and the “from”,”to” ignore from the asset owner to the dec account password the account password</p>
<div class="section" id="id52">
<h3>Parameters<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">AssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;asset&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">To</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Address</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;to&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Value</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;value&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">IsInc</span></code> - <code class="docutils literal notranslate"><span class="pre">bool</span></code> - <code class="docutils literal notranslate"><span class="pre">json:&quot;isInc&quot;</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">TransacData</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>-  <code class="docutils literal notranslate"><span class="pre">json:&quot;transacData&quot;</span></code>: Description</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><code class="docutils literal notranslate"><span class="pre">passwd</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>: Description</li>
</ol>
</div>
<div class="section" id="id53">
<h3>Returns<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id54">
<h3>Example<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">decAsset</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">to</span><span class="o">:</span><span class="s2">&quot;0x2b1a3eca81ba03a9a4c95f4a04679c90838d7165&quot;</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="s2">&quot;0x1&quot;</span><span class="p">,</span><span class="nx">asset</span><span class="o">:</span><span class="s2">&quot;0x514a46f34e6eb0a98abb3595c4aec33ca8ddf69f135c8fed89e78d0808047965&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="buildmakeswaptx">
<h2>buildMakeSwapTx<a class="headerlink" href="#buildmakeswaptx" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildMakeSwapTx</span><span class="p">()</span>
<span class="p">...</span>
</pre></div>
</div>
<p>buildMakeSwapTx</p>
<div class="section" id="id55">
<h3>Parameters<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">FromAssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">FromStartTime</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">FromEndTime</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">MinFromAmount</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">ToAssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">ToStartTime</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">ToEndTime</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">MinToAmount</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">SwapSize</span></code> - <code class="docutils literal notranslate"><span class="pre">*big.Int</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Targes</span></code> - <code class="docutils literal notranslate"><span class="pre">[]common.Address</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Time</span></code> - <code class="docutils literal notranslate"><span class="pre">*big.Int</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id56">
<h3>Returns<a class="headerlink" href="#id56" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id57">
<h3>Example<a class="headerlink" href="#id57" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildMakeSwapTx</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">$scope</span><span class="p">.</span><span class="nx">makeSwap</span> <span class="o">=</span> <span class="nx">async</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">targesArray</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">let</span> <span class="nx">password</span> <span class="o">=</span> <span class="nx">walletService</span><span class="p">.</span><span class="nx">password</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">accountData</span> <span class="o">=</span> <span class="nx">uiFuncs</span><span class="p">.</span><span class="nx">getTxData</span><span class="p">(</span><span class="nx">$scope</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">walletAddress</span> <span class="o">=</span> <span class="nx">accountData</span><span class="p">.</span><span class="nx">from</span><span class="p">;</span>

    <span class="kd">let</span> <span class="nx">fromAsset</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">let</span> <span class="nx">toAsset</span> <span class="o">=</span> <span class="p">[];</span>


    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">getAsset</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">assetToSend</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">fromAsset</span> <span class="o">=</span> <span class="nx">res</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$scope</span><span class="p">.</span><span class="nx">errorModal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>


    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">getAsset</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">assetToReceive</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">toAsset</span> <span class="o">=</span> <span class="nx">res</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$scope</span><span class="p">.</span><span class="nx">errorModal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">makeTarges</span> <span class="o">!==</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">targesArr</span> <span class="o">=</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">makeTarges</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">);</span>
        <span class="nx">await</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">processAllTarges</span><span class="p">(</span><span class="nx">targesArr</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">targesArray</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">targesArray</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">makeMinumumSwap</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="o">||</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">makeMinumumSwap</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$scope</span><span class="p">.</span><span class="nx">makeMinumumSwap</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">//Global</span>
    <span class="kd">let</span> <span class="nx">makeMinimumSwapBN</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BigNumber</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">makeMinumumSwap</span><span class="p">);</span>

    <span class="c1">//Receive Part</span>
    <span class="nx">BigNumber</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span> <span class="nx">DECIMAL_PLACES</span><span class="o">:</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">toAsset</span><span class="p">[</span><span class="s2">&quot;Decimals&quot;</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">});</span>
    <span class="kd">let</span> <span class="nx">makeReceiveAmountBN</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BigNumber</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">makeReceiveAmount</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">makeReceiveAmountDiv</span> <span class="o">=</span> <span class="nx">makeReceiveAmountBN</span><span class="p">.</span><span class="nx">div</span><span class="p">(</span><span class="nx">makeMinimumSwapBN</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">makeReceiveString</span> <span class="o">=</span> <span class="nx">makeReceiveAmountDiv</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
    <span class="kd">let</span> <span class="nx">makeReceiveFinal</span> <span class="o">=</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">makeBigNumber</span><span class="p">(</span><span class="nx">makeReceiveString</span> <span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">toAsset</span><span class="p">[</span><span class="s2">&quot;Decimals&quot;</span><span class="p">]));</span>

    <span class="c1">//Send Part</span>
    <span class="nx">BigNumber</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span> <span class="nx">DECIMAL_PLACES</span><span class="o">:</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">fromAsset</span><span class="p">[</span><span class="s2">&quot;Decimals&quot;</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">});</span>
    <span class="kd">let</span> <span class="nx">makeSendAmountBN</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BigNumber</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">makeSendAmount</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">makeSendAmountDiv</span> <span class="o">=</span> <span class="nx">makeSendAmountBN</span><span class="p">.</span><span class="nx">div</span><span class="p">(</span><span class="nx">makeMinimumSwapBN</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">makeSendString</span> <span class="o">=</span> <span class="nx">makeSendAmountDiv</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
    <span class="kd">let</span> <span class="nx">makeSendFinal</span> <span class="o">=</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">makeBigNumber</span><span class="p">(</span><span class="nx">makeSendString</span> <span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">fromAsset</span><span class="p">[</span><span class="s2">&quot;Decimals&quot;</span><span class="p">]));</span>

    <span class="c1">//Convert to Hex</span>

    <span class="kd">let</span> <span class="nx">minToAmountHex</span> <span class="o">=</span> <span class="s2">&quot;0x&quot;</span> <span class="o">+</span> <span class="nx">makeReceiveFinal</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">minFromAmountHex</span> <span class="o">=</span> <span class="s2">&quot;0x&quot;</span> <span class="o">+</span> <span class="nx">makeSendFinal</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>


    <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">from</span><span class="o">:</span> <span class="nx">walletAddress</span><span class="p">,</span>
        <span class="nx">FromAssetID</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">assetToSend</span><span class="p">,</span>
        <span class="nx">ToAssetID</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">assetToReceive</span><span class="p">,</span>
        <span class="nx">MinToAmount</span><span class="o">:</span> <span class="nx">minToAmountHex</span><span class="p">,</span>
        <span class="nx">MinFromAmount</span><span class="o">:</span> <span class="nx">minFromAmountHex</span><span class="p">,</span>
        <span class="nx">SwapSize</span><span class="o">:</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">makeMinumumSwap</span><span class="p">),</span>
        <span class="nx">Targes</span><span class="o">:</span> <span class="nx">targesArray</span>
    <span class="p">};</span>

    <span class="c1">// Send part</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">showTimeLockSend</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">sendTimeLock</span> <span class="o">==</span> <span class="s1">&#39;scheduled&#39;</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">fromStartTime</span> <span class="o">=</span> <span class="nx">getHexDate</span><span class="p">(</span><span class="nx">convertDate</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">fromStartTime</span><span class="p">));</span>
            <span class="kd">let</span> <span class="nx">fromEndTime</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">consts</span><span class="p">.</span><span class="nx">TimeForeverStr</span><span class="p">;</span>

            <span class="nx">data</span><span class="p">.</span><span class="nx">FromStartTime</span> <span class="o">=</span> <span class="nx">fromStartTime</span><span class="p">;</span>
            <span class="nx">data</span><span class="p">.</span><span class="nx">FromEndTime</span> <span class="o">=</span> <span class="nx">fromEndTime</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">sendTimeLock</span> <span class="o">==</span> <span class="s1">&#39;daterange&#39;</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">fromStartTime</span> <span class="o">=</span> <span class="nx">getHexDate</span><span class="p">(</span><span class="nx">convertDate</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">todayDate</span><span class="p">));</span>
            <span class="kd">let</span> <span class="nx">fromEndTime</span> <span class="o">=</span> <span class="nx">getHexDate</span><span class="p">(</span><span class="nx">convertDate</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">fromEndTime</span><span class="p">));</span>

            <span class="nx">data</span><span class="p">.</span><span class="nx">FromStartTime</span> <span class="o">=</span> <span class="nx">fromStartTime</span><span class="p">;</span>
            <span class="nx">data</span><span class="p">.</span><span class="nx">FromEndTime</span> <span class="o">=</span> <span class="nx">fromEndTime</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// Receive part</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">showTimeLockReceive</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">receiveTimeLock</span> <span class="o">==</span> <span class="s1">&#39;scheduled&#39;</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">toStartTime</span> <span class="o">=</span> <span class="nx">getHexDate</span><span class="p">(</span><span class="nx">convertDate</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">ToStartTime</span><span class="p">));</span>
            <span class="kd">let</span> <span class="nx">toEndTime</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">consts</span><span class="p">.</span><span class="nx">TimeForeverStr</span><span class="p">;</span>

            <span class="nx">data</span><span class="p">.</span><span class="nx">ToStartTime</span> <span class="o">=</span> <span class="nx">toStartTime</span><span class="p">;</span>
            <span class="nx">data</span><span class="p">.</span><span class="nx">ToEndTime</span> <span class="o">=</span> <span class="nx">toEndTime</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">receiveTimeLock</span> <span class="o">==</span> <span class="s1">&#39;daterange&#39;</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">toStartTime</span> <span class="o">=</span> <span class="nx">getHexDate</span><span class="p">(</span><span class="nx">convertDate</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">todayDate</span><span class="p">));</span>
            <span class="kd">let</span> <span class="nx">toEndTime</span> <span class="o">=</span> <span class="nx">getHexDate</span><span class="p">(</span><span class="nx">convertDate</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">ToEndTime</span><span class="p">));</span>

            <span class="nx">data</span><span class="p">.</span><span class="nx">ToStartTime</span> <span class="o">=</span> <span class="nx">toStartTime</span><span class="p">;</span>
            <span class="nx">data</span><span class="p">.</span><span class="nx">ToEndTime</span> <span class="o">=</span> <span class="nx">toEndTime</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">privateKeyToAccount</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">toHexString</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKey</span><span class="p">()));</span>
    <span class="p">}</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>

    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildMakeSwapTx</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">tx</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tx</span><span class="p">);</span>
            <span class="nx">tx</span><span class="p">.</span><span class="nx">from</span> <span class="o">=</span> <span class="nx">walletAddress</span><span class="p">;</span>
            <span class="nx">tx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="nx">_CHAINID</span><span class="p">;</span>
            <span class="nx">data</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">signAndTransmit</span><span class="p">(</span><span class="nx">tx</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">txHash</span> <span class="p">=&gt;</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">txHash</span><span class="p">);</span>
                <span class="nx">$scope</span><span class="p">.</span><span class="nx">makeSwapConfirmation</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">);</span>
            <span class="p">})</span>
        <span class="p">})</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$scope</span><span class="p">.</span><span class="nx">errorModal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="makeswap">
<h2>makeSwap<a class="headerlink" href="#makeswap" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">makeSwap</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">FromAssetID</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">,</span>
            <span class="nx">ToAssetID</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffff00000000000000000000&quot;</span><span class="p">,</span><span class="nx">MinToAmount</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">MinFromAmount</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">SwapSize</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">Targes</span><span class="o">:</span><span class="p">[]},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
<span class="p">...</span>
</pre></div>
</div>
<p>makeSwap create a quantum swap CP see the top FromAssetID sell asset id MinFromAmount the min amount of the sell asset ToAssetID buy asset id MinToAmount the min amount of the buy asset SwapSize the max sell package size Targes the address list of the “who can buy” can be null password the owner password</p>
<div class="section" id="id58">
<h3>Parameters<a class="headerlink" href="#id58" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">FromAssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">FromStartTime</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">FromEndTime</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">MinFromAmount</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">ToAssetID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">ToStartTime</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">ToEndTime</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">MinToAmount</span></code> - <code class="docutils literal notranslate"><span class="pre">*hexutil.Big</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">SwapSize</span></code> - <code class="docutils literal notranslate"><span class="pre">*big.Int</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Targes</span></code> - <code class="docutils literal notranslate"><span class="pre">[]common.Address</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Time</span></code> - <code class="docutils literal notranslate"><span class="pre">*big.Int</span></code>: Description</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><code class="docutils literal notranslate"><span class="pre">passwd</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>: Description</li>
</ol>
</div>
<div class="section" id="id59">
<h3>Returns<a class="headerlink" href="#id59" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id60">
<h3>Example<a class="headerlink" href="#id60" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">makeSwap</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">FromAssetID</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">,</span>
            <span class="nx">ToAssetID</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffff00000000000000000000&quot;</span><span class="p">,</span><span class="nx">MinToAmount</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">MinFromAmount</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">SwapSize</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">Targes</span><span class="o">:</span><span class="p">[]},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="buildrecallswaptx">
<h2>buildRecallSwapTx<a class="headerlink" href="#buildrecallswaptx" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildRecallSwapTx</span><span class="p">()</span>
<span class="p">...</span>
</pre></div>
</div>
<p>buildRecallSwapTx</p>
<div class="section" id="id61">
<h3>Parameters<a class="headerlink" href="#id61" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">SwapID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id62">
<h3>Returns<a class="headerlink" href="#id62" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id63">
<h3>Example<a class="headerlink" href="#id63" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildRecallSwapTx</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">$scope</span><span class="p">.</span><span class="nx">recallSwap</span> <span class="o">=</span> <span class="nx">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">swap_id</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">walletService</span><span class="p">.</span><span class="nx">wallet</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">password</span> <span class="o">=</span> <span class="nx">walletService</span><span class="p">.</span><span class="nx">password</span><span class="p">;</span>
        <span class="kd">let</span> <span class="nx">accountData</span> <span class="o">=</span> <span class="nx">uiFuncs</span><span class="p">.</span><span class="nx">getTxData</span><span class="p">(</span><span class="nx">$scope</span><span class="p">);</span>
        <span class="kd">let</span> <span class="nx">walletAddress</span> <span class="o">=</span> <span class="nx">accountData</span><span class="p">.</span><span class="nx">from</span><span class="p">;</span>

        <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nx">from</span><span class="o">:</span> <span class="nx">walletAddress</span><span class="p">,</span>
            <span class="nx">SwapID</span><span class="o">:</span> <span class="nx">swap_id</span>
        <span class="p">};</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">privateKeyToAccount</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">toHexString</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKey</span><span class="p">()));</span>
        <span class="p">}</span>

        <span class="k">try</span> <span class="p">{</span>
            <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildRecallSwapTx</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">tx</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">tx</span><span class="p">.</span><span class="nx">from</span> <span class="o">=</span> <span class="nx">walletAddress</span><span class="p">;</span>
                <span class="nx">tx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="nx">_CHAINID</span><span class="p">;</span>
                <span class="nx">data</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">return</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">signAndTransmit</span><span class="p">(</span><span class="nx">tx</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">txHash</span> <span class="p">=&gt;</span> <span class="p">{</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">txHash</span><span class="p">);</span>
                    <span class="nx">$scope</span><span class="p">.</span><span class="nx">recallSwapSuccess</span><span class="p">.</span><span class="nx">open</span><span class="p">()</span>
                <span class="p">})</span>
            <span class="p">})</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">errorModal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">ledgerConfig</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nx">privKey</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">privKey</span> <span class="o">?</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKeyString</span><span class="p">()</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nx">path</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPath</span><span class="p">(),</span>
                <span class="nx">hwType</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getHWType</span><span class="p">(),</span>
                <span class="nx">hwTransport</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getHWTransport</span><span class="p">()</span>
            <span class="p">}</span>
            <span class="kd">let</span> <span class="nx">rawTx</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">eTx</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethUtil</span><span class="p">.</span><span class="nx">Tx</span><span class="p">(</span><span class="nx">rawTx</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">ledgerConfig</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ledgerEth</span><span class="p">(</span><span class="nx">ledgerConfig</span><span class="p">.</span><span class="nx">hwTransport</span><span class="p">);</span>
                <span class="kd">var</span> <span class="nx">EIP155Supported</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                <span class="kd">var</span> <span class="nx">localCallback</span> <span class="o">=</span> <span class="nx">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">error</span> <span class="o">!=</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="nx">callback</span><span class="p">({</span>
                            <span class="nx">isError</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
                            <span class="nx">error</span><span class="o">:</span> <span class="nx">error</span>
                        <span class="p">});</span>
                        <span class="k">return</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="kd">var</span> <span class="nx">splitVersion</span> <span class="o">=</span> <span class="nx">result</span><span class="p">[</span><span class="s1">&#39;version&#39;</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">);</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">splitVersion</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">EIP155Supported</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">splitVersion</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">EIP155Supported</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">splitVersion</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">EIP155Supported</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="kd">var</span> <span class="nx">oldTx</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">rawTx</span><span class="p">,</span> <span class="p">{});</span>
                    <span class="kd">let</span> <span class="nx">input</span> <span class="o">=</span> <span class="nx">oldTx</span><span class="p">.</span><span class="nx">input</span><span class="p">;</span>
                    <span class="k">return</span> <span class="nx">uiFuncs</span><span class="p">.</span><span class="nx">signed</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="nx">rawTx</span><span class="p">,</span> <span class="nx">ledgerConfig</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">oldTx</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">r</span><span class="p">;</span>
                        <span class="nx">oldTx</span><span class="p">.</span><span class="nx">s</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">s</span><span class="p">;</span>
                        <span class="nx">oldTx</span><span class="p">.</span><span class="nx">v</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">v</span><span class="p">;</span>
                        <span class="nx">oldTx</span><span class="p">.</span><span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span><span class="p">;</span>
                        <span class="nx">oldTx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="s2">&quot;0x1&quot;</span><span class="p">;</span>
                        <span class="k">delete</span> <span class="nx">oldTx</span><span class="p">.</span><span class="nx">isError</span><span class="p">;</span>
                        <span class="k">delete</span> <span class="nx">oldTx</span><span class="p">.</span><span class="nx">rawTx</span><span class="p">;</span>
                        <span class="k">delete</span> <span class="nx">oldTx</span><span class="p">.</span><span class="nx">signedTx</span><span class="p">;</span>
                        <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">sendRawTransaction</span><span class="p">(</span><span class="nx">oldTx</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">txHash</span><span class="p">)</span> <span class="p">{</span>
                            <span class="nx">$scope</span><span class="p">.</span><span class="nx">recallSwapSuccess</span><span class="p">.</span><span class="nx">open</span><span class="p">()</span>
                        <span class="p">})</span>
                    <span class="p">})</span>
                <span class="p">}</span>
                <span class="nx">$scope</span><span class="p">.</span><span class="nx">notifier</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="s1">&#39;Please, confirm transaction on Ledger.&#39;</span><span class="p">);</span>
                <span class="nx">await</span> <span class="nx">app</span><span class="p">.</span><span class="nx">getAppConfiguration</span><span class="p">(</span><span class="nx">localCallback</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="recallswap">
<h2>recallSwap<a class="headerlink" href="#recallswap" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">recallSwap</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">SwapID</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
<span class="p">...</span>
</pre></div>
</div>
<p>recallSwap destroy a quantum swap and get the asset back
CP see the top SwapID the swap ID password the owner password</p>
<div class="section" id="id64">
<h3>Parameters<a class="headerlink" href="#id64" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">SwapID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code>: Description</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><code class="docutils literal notranslate"><span class="pre">passwd</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>: Description</li>
</ol>
</div>
<div class="section" id="id65">
<h3>Returns<a class="headerlink" href="#id65" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id66">
<h3>Example<a class="headerlink" href="#id66" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span>   <span class="nx">fsntx</span><span class="p">.</span><span class="nx">recallSwap</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">SwapID</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>

<span class="p">..</span> <span class="nx">code</span><span class="o">-</span><span class="nx">block</span><span class="o">::</span> <span class="nx">javascript</span>

  <span class="nx">$scope</span><span class="p">.</span><span class="nx">recallSwap</span> <span class="o">=</span> <span class="nx">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">swap_id</span><span class="p">)</span> <span class="p">{</span>
       <span class="k">if</span> <span class="p">(</span><span class="nx">walletService</span><span class="p">.</span><span class="nx">wallet</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
           <span class="kd">let</span> <span class="nx">password</span> <span class="o">=</span> <span class="nx">walletService</span><span class="p">.</span><span class="nx">password</span><span class="p">;</span>
           <span class="kd">let</span> <span class="nx">accountData</span> <span class="o">=</span> <span class="nx">uiFuncs</span><span class="p">.</span><span class="nx">getTxData</span><span class="p">(</span><span class="nx">$scope</span><span class="p">);</span>
           <span class="kd">let</span> <span class="nx">walletAddress</span> <span class="o">=</span> <span class="nx">accountData</span><span class="p">.</span><span class="nx">from</span><span class="p">;</span>

           <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
               <span class="nx">from</span><span class="o">:</span> <span class="nx">walletAddress</span><span class="p">,</span>
               <span class="nx">SwapID</span><span class="o">:</span> <span class="nx">swap_id</span>
           <span class="p">};</span>

           <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">))</span> <span class="p">{</span>
               <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">privateKeyToAccount</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">toHexString</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKey</span><span class="p">()));</span>
           <span class="p">}</span>

           <span class="k">try</span> <span class="p">{</span>
               <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildRecallSwapTx</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">tx</span><span class="p">)</span> <span class="p">{</span>
                   <span class="nx">tx</span><span class="p">.</span><span class="nx">from</span> <span class="o">=</span> <span class="nx">walletAddress</span><span class="p">;</span>
                   <span class="nx">tx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="nx">_CHAINID</span><span class="p">;</span>
                   <span class="nx">data</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">;</span>
                   <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="p">{</span>
                       <span class="k">return</span><span class="p">;</span>
                   <span class="p">}</span>
                   <span class="k">return</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">signAndTransmit</span><span class="p">(</span><span class="nx">tx</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">txHash</span> <span class="p">=&gt;</span> <span class="p">{</span>
                       <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">txHash</span><span class="p">);</span>
                       <span class="nx">$scope</span><span class="p">.</span><span class="nx">recallSwapSuccess</span><span class="p">.</span><span class="nx">open</span><span class="p">()</span>
                   <span class="p">})</span>
               <span class="p">})</span>
           <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
               <span class="nx">$scope</span><span class="p">.</span><span class="nx">errorModal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
               <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
           <span class="p">}</span>
           <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="p">{</span>
               <span class="kd">let</span> <span class="nx">ledgerConfig</span> <span class="o">=</span> <span class="p">{</span>
                   <span class="nx">privKey</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">privKey</span> <span class="o">?</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKeyString</span><span class="p">()</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                   <span class="nx">path</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPath</span><span class="p">(),</span>
                   <span class="nx">hwType</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getHWType</span><span class="p">(),</span>
                   <span class="nx">hwTransport</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getHWTransport</span><span class="p">()</span>
               <span class="p">}</span>
               <span class="kd">let</span> <span class="nx">rawTx</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
               <span class="kd">var</span> <span class="nx">eTx</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethUtil</span><span class="p">.</span><span class="nx">Tx</span><span class="p">(</span><span class="nx">rawTx</span><span class="p">);</span>
               <span class="k">if</span> <span class="p">(</span><span class="nx">ledgerConfig</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="p">{</span>
                   <span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ledgerEth</span><span class="p">(</span><span class="nx">ledgerConfig</span><span class="p">.</span><span class="nx">hwTransport</span><span class="p">);</span>
                   <span class="kd">var</span> <span class="nx">EIP155Supported</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                   <span class="kd">var</span> <span class="nx">localCallback</span> <span class="o">=</span> <span class="nx">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
                       <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">error</span> <span class="o">!=</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span> <span class="p">{</span>
                           <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="nx">callback</span><span class="p">({</span>
                               <span class="nx">isError</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
                               <span class="nx">error</span><span class="o">:</span> <span class="nx">error</span>
                           <span class="p">});</span>
                           <span class="k">return</span><span class="p">;</span>
                       <span class="p">}</span>
                       <span class="kd">var</span> <span class="nx">splitVersion</span> <span class="o">=</span> <span class="nx">result</span><span class="p">[</span><span class="s1">&#39;version&#39;</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">);</span>
                       <span class="k">if</span> <span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">splitVersion</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                           <span class="nx">EIP155Supported</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                       <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">splitVersion</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                           <span class="nx">EIP155Supported</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                       <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">splitVersion</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
                           <span class="nx">EIP155Supported</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                       <span class="p">}</span>
                       <span class="kd">var</span> <span class="nx">oldTx</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">rawTx</span><span class="p">,</span> <span class="p">{});</span>
                       <span class="kd">let</span> <span class="nx">input</span> <span class="o">=</span> <span class="nx">oldTx</span><span class="p">.</span><span class="nx">input</span><span class="p">;</span>
                       <span class="k">return</span> <span class="nx">uiFuncs</span><span class="p">.</span><span class="nx">signed</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="nx">rawTx</span><span class="p">,</span> <span class="nx">ledgerConfig</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
                           <span class="nx">oldTx</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">r</span><span class="p">;</span>
                           <span class="nx">oldTx</span><span class="p">.</span><span class="nx">s</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">s</span><span class="p">;</span>
                           <span class="nx">oldTx</span><span class="p">.</span><span class="nx">v</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">v</span><span class="p">;</span>
                           <span class="nx">oldTx</span><span class="p">.</span><span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span><span class="p">;</span>
                           <span class="nx">oldTx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="s2">&quot;0x1&quot;</span><span class="p">;</span>
                           <span class="k">delete</span> <span class="nx">oldTx</span><span class="p">.</span><span class="nx">isError</span><span class="p">;</span>
                           <span class="k">delete</span> <span class="nx">oldTx</span><span class="p">.</span><span class="nx">rawTx</span><span class="p">;</span>
                           <span class="k">delete</span> <span class="nx">oldTx</span><span class="p">.</span><span class="nx">signedTx</span><span class="p">;</span>
                           <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">sendRawTransaction</span><span class="p">(</span><span class="nx">oldTx</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">txHash</span><span class="p">)</span> <span class="p">{</span>
                               <span class="nx">$scope</span><span class="p">.</span><span class="nx">recallSwapSuccess</span><span class="p">.</span><span class="nx">open</span><span class="p">()</span>
                           <span class="p">})</span>
                       <span class="p">})</span>
                   <span class="p">}</span>
                   <span class="nx">$scope</span><span class="p">.</span><span class="nx">notifier</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="s1">&#39;Please, confirm transaction on Ledger.&#39;</span><span class="p">);</span>
                   <span class="nx">await</span> <span class="nx">app</span><span class="p">.</span><span class="nx">getAppConfiguration</span><span class="p">(</span><span class="nx">localCallback</span><span class="p">);</span>
               <span class="p">}</span>
           <span class="p">}</span>
       <span class="p">}</span>
   <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="buildtakeswaptx">
<h2>buildTakeSwapTx<a class="headerlink" href="#buildtakeswaptx" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildTakeSwapTx</span><span class="p">()</span>
<span class="p">...</span>
</pre></div>
</div>
<p>buildTakeSwapTx</p>
<div class="section" id="id67">
<h3>Parameters<a class="headerlink" href="#id67" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">SwapID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Size</span></code> - <code class="docutils literal notranslate"><span class="pre">*big.Int</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id68">
<h3>Returns<a class="headerlink" href="#id68" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id69">
<h3>Example<a class="headerlink" href="#id69" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">$scope</span><span class="p">.</span><span class="nx">takeSwap</span> <span class="o">=</span> <span class="nx">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">asset_id</span><span class="p">,</span> <span class="nx">swap_id</span><span class="p">,</span> <span class="nx">amount</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">password</span> <span class="o">=</span> <span class="nx">walletService</span><span class="p">.</span><span class="nx">password</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">accountData</span> <span class="o">=</span> <span class="nx">uiFuncs</span><span class="p">.</span><span class="nx">getTxData</span><span class="p">(</span><span class="nx">$scope</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">walletAddress</span> <span class="o">=</span> <span class="nx">accountData</span><span class="p">.</span><span class="nx">from</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">toAsset</span> <span class="o">=</span> <span class="p">[];</span>

    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">getAsset</span><span class="p">(</span><span class="nx">asset_id</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">toAsset</span> <span class="o">=</span> <span class="nx">res</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">from</span><span class="o">:</span> <span class="nx">walletAddress</span><span class="p">,</span>
        <span class="nx">SwapID</span><span class="o">:</span> <span class="nx">swap_id</span><span class="p">.</span><span class="nx">swap_id</span><span class="p">,</span>
        <span class="nx">Size</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">takeAmountSwap</span>
    <span class="p">};</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">privateKeyToAccount</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">toHexString</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKey</span><span class="p">()));</span>
    <span class="p">}</span>

    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildTakeSwapTx</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">tx</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">tx</span><span class="p">.</span><span class="nx">from</span> <span class="o">=</span> <span class="nx">walletAddress</span><span class="p">;</span>
            <span class="nx">tx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="nx">_CHAINID</span><span class="p">;</span>
            <span class="nx">data</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">signAndTransmit</span><span class="p">(</span><span class="nx">tx</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">txHash</span> <span class="p">=&gt;</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">txHash</span><span class="p">);</span>
            <span class="p">})</span>

            <span class="k">return</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">takeSwapEndConfirm</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
        <span class="p">})</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$scope</span><span class="p">.</span><span class="nx">errorModal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">ledgerConfig</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nx">privKey</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">privKey</span> <span class="o">?</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKeyString</span><span class="p">()</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nx">path</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPath</span><span class="p">(),</span>
            <span class="nx">hwType</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getHWType</span><span class="p">(),</span>
            <span class="nx">hwTransport</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getHWTransport</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="kd">let</span> <span class="nx">rawTx</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">eTx</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethUtil</span><span class="p">.</span><span class="nx">Tx</span><span class="p">(</span><span class="nx">rawTx</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="takeswap">
<h2>takeSwap<a class="headerlink" href="#takeswap" title="Permalink to this headline">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">takeSwap</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">SwapID</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">,</span><span class="nx">Size</span><span class="o">:</span><span class="s2">&quot;0x1&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
<span class="p">...</span>
</pre></div>
</div>
<p>takeSwap buy a quantum swap CP see the top SwapID the swap ID Size the package size password the owner password</p>
<div class="section" id="id70">
<h3>Parameters<a class="headerlink" href="#id70" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">from</span></code> - <code class="docutils literal notranslate"><span class="pre">String|Number</span></code> : The address for the sending account</li>
<li><code class="docutils literal notranslate"><span class="pre">gas</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> : (optional, default: To-Be-Determined) The amount of gas to use for the transaction (unused gas is refunded).</li>
<li><code class="docutils literal notranslate"><span class="pre">gasPrice</span></code> - <code class="docutils literal notranslate"><span class="pre">Number|String|BN|BigNumber</span></code> :  (optional) The price of gas for this transaction in wei.</li>
<li><code class="docutils literal notranslate"><span class="pre">nonce</span></code> - <code class="docutils literal notranslate"><span class="pre">Number</span></code> :  (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.</li>
<li><code class="docutils literal notranslate"><span class="pre">SwapID</span></code> - <code class="docutils literal notranslate"><span class="pre">common.Hash</span></code>: Description</li>
<li><code class="docutils literal notranslate"><span class="pre">Size</span></code> - <code class="docutils literal notranslate"><span class="pre">*big.Int</span></code>: Description</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><code class="docutils literal notranslate"><span class="pre">passwd</span></code> - <code class="docutils literal notranslate"><span class="pre">string</span></code>: Description</li>
</ol>
</div>
<div class="section" id="id71">
<h3>Returns<a class="headerlink" href="#id71" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Object</span></code>: With the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Object</span></code>: Description</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id72">
<h3>Example<a class="headerlink" href="#id72" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">takeSwap</span><span class="p">({</span><span class="nx">from</span><span class="o">:</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">coinbase</span><span class="p">,</span><span class="nx">SwapID</span><span class="o">:</span><span class="s2">&quot;0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&quot;</span><span class="p">,</span><span class="nx">Size</span><span class="o">:</span><span class="s2">&quot;0x1&quot;</span><span class="p">},</span><span class="s2">&quot;123456&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">$scope</span><span class="p">.</span><span class="nx">takeSwap</span> <span class="o">=</span> <span class="nx">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">asset_id</span><span class="p">,</span> <span class="nx">swap_id</span><span class="p">,</span> <span class="nx">amount</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">password</span> <span class="o">=</span> <span class="nx">walletService</span><span class="p">.</span><span class="nx">password</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">accountData</span> <span class="o">=</span> <span class="nx">uiFuncs</span><span class="p">.</span><span class="nx">getTxData</span><span class="p">(</span><span class="nx">$scope</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">walletAddress</span> <span class="o">=</span> <span class="nx">accountData</span><span class="p">.</span><span class="nx">from</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">toAsset</span> <span class="o">=</span> <span class="p">[];</span>

    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">getAsset</span><span class="p">(</span><span class="nx">asset_id</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">toAsset</span> <span class="o">=</span> <span class="nx">res</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">from</span><span class="o">:</span> <span class="nx">walletAddress</span><span class="p">,</span>
        <span class="nx">SwapID</span><span class="o">:</span> <span class="nx">swap_id</span><span class="p">.</span><span class="nx">swap_id</span><span class="p">,</span>
        <span class="nx">Size</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">takeAmountSwap</span>
    <span class="p">};</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">!==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">privateKeyToAccount</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">toHexString</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKey</span><span class="p">()));</span>
    <span class="p">}</span>

    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">fsntx</span><span class="p">.</span><span class="nx">buildTakeSwapTx</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">tx</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">tx</span><span class="p">.</span><span class="nx">from</span> <span class="o">=</span> <span class="nx">walletAddress</span><span class="p">;</span>
            <span class="nx">tx</span><span class="p">.</span><span class="nx">chainId</span> <span class="o">=</span> <span class="nx">_CHAINID</span><span class="p">;</span>
            <span class="nx">data</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">web3</span><span class="p">.</span><span class="nx">fsn</span><span class="p">.</span><span class="nx">signAndTransmit</span><span class="p">(</span><span class="nx">tx</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">txHash</span> <span class="p">=&gt;</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">txHash</span><span class="p">);</span>
            <span class="p">})</span>

            <span class="k">return</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">takeSwapEndConfirm</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
        <span class="p">})</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$scope</span><span class="p">.</span><span class="nx">errorModal</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">hwType</span> <span class="o">==</span> <span class="s2">&quot;ledger&quot;</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">ledgerConfig</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nx">privKey</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">privKey</span> <span class="o">?</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrivateKeyString</span><span class="p">()</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nx">path</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPath</span><span class="p">(),</span>
            <span class="nx">hwType</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getHWType</span><span class="p">(),</span>
            <span class="nx">hwTransport</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getHWTransport</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="kd">let</span> <span class="nx">rawTx</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">eTx</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethUtil</span><span class="p">.</span><span class="nx">Tx</span><span class="p">(</span><span class="nx">rawTx</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">fsntx</a><ul>
<li><a class="reference internal" href="#sendrawtransaction">sendRawTransaction</a><ul>
<li><a class="reference internal" href="#parameters">Parameters</a></li>
<li><a class="reference internal" href="#returns">Returns</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#buildgennotationtx">buildGenNotationTx</a><ul>
<li><a class="reference internal" href="#id1">Parameters</a></li>
<li><a class="reference internal" href="#id2">Returns</a></li>
<li><a class="reference internal" href="#id3">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gennotation">genNotation</a><ul>
<li><a class="reference internal" href="#id4">Parameters</a></li>
<li><a class="reference internal" href="#id5">Returns</a></li>
<li><a class="reference internal" href="#id6">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#buildgenassettx">buildGenAssetTx</a><ul>
<li><a class="reference internal" href="#id7">Parameters</a></li>
<li><a class="reference internal" href="#id8">Returns</a></li>
<li><a class="reference internal" href="#id9">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#genasset">genAsset</a><ul>
<li><a class="reference internal" href="#id10">Parameters</a></li>
<li><a class="reference internal" href="#id11">Returns</a></li>
<li><a class="reference internal" href="#id12">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#buildsendassettx">buildSendAssetTx</a><ul>
<li><a class="reference internal" href="#id13">Parameters</a></li>
<li><a class="reference internal" href="#id14">Returns</a></li>
<li><a class="reference internal" href="#id15">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sendasset">sendAsset</a><ul>
<li><a class="reference internal" href="#id16">Parameters</a></li>
<li><a class="reference internal" href="#id17">Returns</a></li>
<li><a class="reference internal" href="#id18">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#buildassettotimelocktx">buildAssetToTimeLockTx</a><ul>
<li><a class="reference internal" href="#id19">Parameters</a></li>
<li><a class="reference internal" href="#id20">Returns</a></li>
<li><a class="reference internal" href="#id21">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#assettotimelock">assetToTimeLock</a><ul>
<li><a class="reference internal" href="#id22">Parameters</a></li>
<li><a class="reference internal" href="#id23">Returns</a></li>
<li><a class="reference internal" href="#id24">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#buildtimelocktotimelocktx">buildTimeLockToTimeLockTx</a><ul>
<li><a class="reference internal" href="#id25">Parameters</a></li>
<li><a class="reference internal" href="#id26">Returns</a></li>
<li><a class="reference internal" href="#id27">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#timelocktotimelock">timeLockToTimeLock</a><ul>
<li><a class="reference internal" href="#id28">Parameters</a></li>
<li><a class="reference internal" href="#id29">Returns</a></li>
<li><a class="reference internal" href="#id30">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#buildtimelocktoassettx">buildTimeLockToAssetTx</a><ul>
<li><a class="reference internal" href="#id31">Parameters</a></li>
<li><a class="reference internal" href="#id32">Returns</a></li>
<li><a class="reference internal" href="#id33">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#timelocktoasset">timeLockToAsset</a><ul>
<li><a class="reference internal" href="#id34">Parameters</a></li>
<li><a class="reference internal" href="#id35">Returns</a></li>
<li><a class="reference internal" href="#id36">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#buildbuytickettx">buildBuyTicketTx</a><ul>
<li><a class="reference internal" href="#id37">Parameters</a></li>
<li><a class="reference internal" href="#id38">Returns</a></li>
<li><a class="reference internal" href="#id39">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#buyticket">buyTicket</a><ul>
<li><a class="reference internal" href="#id40">Parameters</a></li>
<li><a class="reference internal" href="#id41">Returns</a></li>
<li><a class="reference internal" href="#id42">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#buildincassettx">buildIncAssetTx</a><ul>
<li><a class="reference internal" href="#id43">Parameters</a></li>
<li><a class="reference internal" href="#id44">Returns</a></li>
<li><a class="reference internal" href="#id45">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#incasset">incAsset</a><ul>
<li><a class="reference internal" href="#id46">Parameters</a></li>
<li><a class="reference internal" href="#id47">Returns</a></li>
<li><a class="reference internal" href="#id48">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#builddecassettx">buildDecAssetTx</a><ul>
<li><a class="reference internal" href="#id49">Parameters</a></li>
<li><a class="reference internal" href="#id50">Returns</a></li>
<li><a class="reference internal" href="#id51">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#decasset">decAsset</a><ul>
<li><a class="reference internal" href="#id52">Parameters</a></li>
<li><a class="reference internal" href="#id53">Returns</a></li>
<li><a class="reference internal" href="#id54">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#buildmakeswaptx">buildMakeSwapTx</a><ul>
<li><a class="reference internal" href="#id55">Parameters</a></li>
<li><a class="reference internal" href="#id56">Returns</a></li>
<li><a class="reference internal" href="#id57">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#makeswap">makeSwap</a><ul>
<li><a class="reference internal" href="#id58">Parameters</a></li>
<li><a class="reference internal" href="#id59">Returns</a></li>
<li><a class="reference internal" href="#id60">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#buildrecallswaptx">buildRecallSwapTx</a><ul>
<li><a class="reference internal" href="#id61">Parameters</a></li>
<li><a class="reference internal" href="#id62">Returns</a></li>
<li><a class="reference internal" href="#id63">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#recallswap">recallSwap</a><ul>
<li><a class="reference internal" href="#id64">Parameters</a></li>
<li><a class="reference internal" href="#id65">Returns</a></li>
<li><a class="reference internal" href="#id66">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#buildtakeswaptx">buildTakeSwapTx</a><ul>
<li><a class="reference internal" href="#id67">Parameters</a></li>
<li><a class="reference internal" href="#id68">Returns</a></li>
<li><a class="reference internal" href="#id69">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#takeswap">takeSwap</a><ul>
<li><a class="reference internal" href="#id70">Parameters</a></li>
<li><a class="reference internal" href="#id71">Returns</a></li>
<li><a class="reference internal" href="#id72">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="fsn.html"
                        title="previous chapter">fsn</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/fsntx.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="fsn.html" title="fsn"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">fusionapi  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Fusion.org.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>